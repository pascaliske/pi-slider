/*
	* piSlider v1.0.3
	* http://pascal-iske.de/slider
	*
	* Copyright 2014: Pascal Iske
*/
(function(e,t,n){e.fn.piSlider=function(t){function g(n){if(t.loader){n.prepend(r);e(".loader").fadeIn(800).delay(100).fadeOut(800)}if(t.startImage){e(".images, .images img:eq("+p+")").fadeIn("400")}else{e(".images, .images img:eq("+c+")").fadeIn("400")}n.append(o);e(".controls").fadeIn(300);if(t.arrows){e(".controls").prepend(u.left).append(u.right)}if(t.progressBar){e(".controls").append(a);e(".progressbar").css("background-color",t.progressColor);if(t.progressPosition==="top"){e(".progressbar").css({top:"0"})}}if(t.captions){e(".controls").append(f);if(t.startImage){e(".captionbar").append("<a href='"+S(p)+"'><span>"+E(p)+"</span></a>")}else{e(".captionbar").append("<a href='"+S(d)+"'><span>"+E(d)+"</span></a>")}}if(t.shadow){n.append(s);e(".shadow").delay(200).fadeIn(500)}w()}function y(){jQuery.queue(e(".progressbar")[0],"fx",[]);e(".progressbar").stop()}function b(){e(".progressbar").delay(200).animate({width:"100%"},8e3,function(){e(".progressbar").delay(300).animate({height:"0"},200,function(){e(".progressbar").removeAttr("style");T()})});jQuery.queue(e(".progressbar")[0],"fx",function(){jQuery.dequeue(this)})}function w(){e(".captionbar").animate({height:"55px"},600,function(){e(".captionbar span").fadeIn(400,function(){e(".captionbar span").css({display:"block"})})});if(t.progressPosition==="top"){e(".progressbar").css({top:"0"})}e(".progressbar").css({"background-color":t.progressColor,width:0}).delay(200).animate({width:"100%"},8e3,function(){if(t.captions){e(".captionbar span").fadeOut(400,function(){e(".captionbar").animate({height:"0"},600,function(){if(t.backwards){N()}else{T()}});e(".progressbar").animate({height:"0"},200,function(){e(".progressbar").removeAttr("style")})})}else{e(".progressbar").delay(300).animate({height:"0"},200,function(){e(".progressbar").removeAttr("style");if(t.backwards){N()}else{T()}})}})}function E(t){if(e(".images img:eq("+t+")").attr("title")){return e(".images img:eq("+t+")").attr("title")}else{return""}}function S(t){if(e(".images img:eq("+t+")").attr("data-href")){return e(".images img:eq("+t+")").attr("data-href")}else{return""}}function x(n,r){e(".progressbar").css({"background-color":t.progressColor,width:0});if(t.effect==="fade"){e(".images img:eq("+n+")").fadeOut("800");e(".images img:eq("+r+")").delay(200).fadeIn("1600")}else if(t.effect==="slide"){var i=e(".images img:eq("+n+")").width();e(".images img").show();e(".images img:eq("+r+")").css({left:i});e(".images img:eq("+n+")").animate({left:"-"+i});e(".images img:eq("+r+")").animate({left:"0"})}w()}function T(){e(".progressbar").stop();if(t.captions){e(".captionbar span").fadeOut(400,function(){e(".captionbar").animate({height:"0"},600,function(){e(".captionbar a span").remove();if(d===h){v=c;x(d,v);d=c;v=v+1;e(".captionbar a").append("<span>"+E(d)+"</span>")}else{v=d+1;x(d,v);d=d+1;v=v+1;e(".captionbar a").append("<span>"+E(d)+"</span>")}});e(".progressbar").animate({height:"0"},200,function(){e(".progressbar").removeAttr("style").css({"background-color":t.progressColor,width:0})})})}else{e(".progressbar").animate({height:"0"},200,function(){e(".captionbar a span").remove();if(d===h){v=c;x(d,v);d=c;v=v+1;e(".captionbar a").append("<span>"+E(d)+"</span>")}else{v=d+1;x(d,v);d=d+1;v=v+1;e(".captionbar a").append("<span>"+E(d)+"</span>")}e(".progressbar").removeAttr("style").css({"background-color":t.progressColor,width:0})})}}function N(){e(".progressbar").stop();if(t.captions){e(".captionbar span").fadeOut(400,function(){e(".captionbar").animate({height:"0"},600,function(){e(".captionbar a span").remove();if(d===0){m=h;x(d,m);d=h;m=m-1;e(".captionbar a").append("<span>"+E(d)+"</span>")}else{x(d,m);d=d-1;m=m-1;e(".captionbar a").append("<span>"+E(d)+"</span>")}});e(".progressbar").animate({height:"0"},200,function(){e(".progressbar").removeAttr("style").css({"background-color":t.progressColor,width:0})})})}else{e(".progressbar").animate({height:"0"},200,function(){e(".captionbar a span").remove();if(d===0){m=h;x(d,m);d=h;m=m-1;e(".captionbar a").append("<span>"+E(d)+"</span>")}else{x(d,m);d=d-1;m=m-1;e(".captionbar a").append("<span>"+E(d)+"</span>")}e(".progressbar").removeAttr("style").css({"background-color":t.progressColor,width:0})})}}var n=this;var t=e.extend({},e.fn.piSlider.defaults,t);var r='<div class="loader"></div>';var i=e("img",this).wrapAll('<div class="images"></div>;');var s='<div class="shadow"></div>';var o='<div class="controls" style="z-index:999"></div>';var u={left:'<div class="arrow left"></div>',right:'<div class="arrow right"></div>'};var a='<div class="progressbar"></div>';var f='<div class="captionbar"></div>';var l=e(".images img").size();var c=0;var h=l-1;var p=t.startImage-1;var d=c;var v=d+1;var m=d-1;this.css({width:t.width,height:t.height,position:"relative",margin:"0 auto 150px","z-index":"100"});if(t.fullsize){t.shadow=false;this.css({width:"100%",height:"100%",margin:"0",padding:"0"});e("body, html").css({width:"100%",height:"100%",margin:"0",padding:"0"})}if(t.startImage){d=p}if(t.autoplay){g(n)}if(t.pauseOnHover){this.hover(function(){y()},function(){b()})}e(document).on("click",".left",function(){N()});e(document).on("click",".right",function(){T()});if(t.keyControlling){e(document).keyup(function(e){if(e.keyCode==37){e.preventDefault();N()}else if(e.keyCode==39){e.preventDefault();T()}else if(e.keyCode==32){if(!n.hasClass("paused")){n.addClass("paused");y()}else if(n.hasClass("paused")){n.removeClass("paused");b()}}})}e(document).on("click",".captionbar",function(){alert("Open link!");e(this).load()});return{start:function(){g(n)},pause:function(){y()},resume:function(){b()},nextSlide:function(){T()},prevSlide:function(){N()}}};e.fn.piSlider.defaults={loader:true,autoplay:true,loop:true,backwards:false,effect:"fade",duration:"8000",keyControlling:true,pauseOnHover:false,shadow:true,fullsize:false,progressColor:"grey",progressBar:true,progressPosition:"bottom",progressShadow:false,arrows:true,captions:true,startImage:1,width:"1000px",height:"450px"}})(jQuery)
